<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>FilterX</title>
    <link href="{{ url_for('static', filename='./images/favicon.ico') }}" type="image/x-icon" rel="shortcut icon">
    <link href="{{ url_for('static', filename='./style.css') }}" type="text/css" rel="stylesheet">
    <script src="{{ url_for('static', filename='./logic.js') }}" type="text/javascript"></script>

    <link href="../static/images/favicon.ico" type="image/x-icon" rel="shortcut icon">
    <link href="../static/style.css" type="text/css" rel="stylesheet">
    <script src="../static/logic.js" type="text/javascript"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
  </head>

  <body class="dark">

		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId      : '341845619901852',
		      cookie     : true,
		      xfbml      : true,
		      version    : 'v3.2'
		    });
		      
		    FB.AppEvents.logPageView();   
		      
		  };

		  (function(d, s, id){
		     var js, fjs = d.getElementsByTagName(s)[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement(s); js.id = id;
		     js.src = "https://connect.facebook.net/en_US/sdk.js";
		     fjs.parentNode.insertBefore(js, fjs);
		   }(document, 'script', 'facebook-jssdk'));


			FB.getLoginStatus(function(response) {
			    statusChangeCallback(response);
			});


			function checkLoginState() {
			  FB.getLoginStatus(function(response) {
			    statusChangeCallback(response);
			  });
			}
		</script>
    <header>
      <img id="logo" src="../static/images/logo.png" alt="FilterX Logo">
    </header>

    <div id="theme-btn">
      <span id="theme-name">Light Mode</span>
      <label class="switch">
        <input type="checkbox" onchange="change_theme();">
        <span class="slider"></span>
      </label>
    </div>

    <div id="intro">
      This website allows you to apply a filter to an image of your choice. Using this website is simple:
      <ol id="instructions">
        <li>Upload an image by:</li>
        <ul>
          <li>Click 'Choose File' and select an image file of your choice</li>
          <li>Drag and drop an image into the image area of the 'Before' box</li>
          <li>Enter the image URL into the text field (next to file upload) and click 'Submit'</li>
        </ul>
        <li>Click one of the 3 filter buttons to apply that filter to your image.</li>
        <li>That's it! Now you can download the filtered image (by right clicking the image and selecting 'Save image as...') or try another filter. You can also upload a new image to filter by following step 1.</li>
      </ol>
      <strong style="color: red;">Note:</strong> Due to EXIF flags (which vary from device to device), the uploaded image may <em>appear</em> to be rotated. However, downloading the filtered image will maintain the original orientation of your file.
    </div>

    <div id="full-box">
      <!-- Open #full-box -->
      <div class="display-box">
        <p>Before</p>
        <div id="upload-options">
          <input id="file-upload" type="file" accept="image/*" onchange="upload(this);">
          <input id="url-input" type="text">
          <button id="url-submit" type="button" onclick="upload_from_url();">Submit</button>
        </div>
        <div class="display-img">
          <div id="drop-area" class="show"><img id="old-img" class="default" src="../static/images/drag_and_drop.png" alt="Old image goes here."></div>
        </div>
      </div>

      <div id="filter-btns">
        <div><button type="button" onclick="filter('black_and_white');">Black and White</button></div>
        <div><button type="button" onclick="filter('sepia');">Sepia</button></div>
        <div><button type="button" onclick="filter('censor');">Censor</button></div>
      </div>

      <div class="display-box">
        <p>After</p>
        <div id="socials" class="show">
        	<!-- <div class="fb-login-button" data-max-rows="1" data-size="large" data-button-type="continue_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false"></div> -->
        			<fb:login-button 
							  scope="public_profile,email"
							  onlogin="checkLoginState();">
							</fb:login-button>
          Social Buttons and Download Button go here
        </div>
        <div id="loading" class="hide">Loading...<img src="../static/images/load.gif" alt="Loading GIF"></div>
        <div class="display-img">
          <img id="new-img" src="../static/images/placeholder.jpg" alt="New image goes here.">
        </div>
      </div>
      <!-- Close #full-box -->
    </div>
  </body>
</html>
